###Development Setup 


####Overview 
This contain high level description of application structure and instructions for setting up of application 
development project. Many open source components are used to develop such as of Scala, ScalaCSS, 
Scala-Tags, Autowire, Boopickle etc. This is based on design by Otto Chrons and for more detail visit [here]
(https://github.com/ochrons/scalajs-spa-tutorial) and [here](http://ochrons.github.io/scalajs-spa-tutorial/). 
Another important library, scalajs-react can be found [here](https://japgolly.github.io/scalajs-react/) 
and [here](https://github.com/vmunier/play-with-scalajs-example) and also is dependent on [Play server](https://www.playframework.com/)

See also the Synereo document [here](https://docs.google.com/document/d/1F4mXkuO_54oKv_02x6v9UUcycNWJFWUExL8KQNMuGr8/edit).

####Application structure
Application is broadly divided into three folders: client, server, and shared. 

  * Client: It consists of a single HTML file and a number of supporting resources (JS and CSS). One of these 
  resources is the actual JavaScript code generated by Scala.js from the Scala sources. The HTML is defined 
  under the server project in twirl/views/index.scala.html using Play template system. More details can be 
  found here. The project utilizes 
  ScalaCss to generate css, more details and advantages of ScalaCSS can be found here. 

  * Shared: This project contains shared resources between the server and the client. It has server api interface 
  to invoke backend services and also contains data transfer objects shared by 
  server and client.

  * Server: This uses play server for hosting the client and also acts as a proxy server to 
  communicate with the api backend. This additional layer of proxy server was used to solve (or work around) 
  the problem regarding the cross domain calls (CORS). Also it has additional advantage of twirl templates. 
  More details on the server implementation can be found [here](http://ochrons.github.io/scalajs-spa-tutorial/server-side.html)

####Prerequisites
The following softwares are required to setup and compile. It uses Play 2.4.x which depends on Java 8, so make sure you are using JVM 8 or later. 
 * LivelyGig/Synereo UI [source](https://github.com/LivelyGig/ProductWebUI)  
 * [Java 8](http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html) .
Play 2.4.4 which depends on Java 8 (JVM 8 or later). Download can be found here.
 * [sbt](http://www.scala-sbt.org/download.html) - Scala Build Tool (SBT) as a build tool to organize library
 * [IntelliJ IDE](https://www.jetbrains.com/idea/#chooseYourEdition)

Note: You may need to add Javac (JDK_Install_Location\bin) command and sbt to the execution path. 


####Setting up IDE
For setting up project you just need to create the project from existing sources. More details regarding the same procedure can be found at the following links:  [Creating a Project by Importing Existing Sources](https://www.jetbrains.com/idea/help/creating-a-project-by-importing-existing-sources.html), [Creating and Running Your Scala Application](https://www.jetbrains.com/idea/help/creating-and-running-your-scala-application.html) and [Getting Started with SBT](https://confluence.jetbrains.com/display/IntelliJIDEA/Getting+Started+with+SBT). Please follow step by step instructions for setting up the project:

 * Open Intellij Idea and goto File > New >  Project from Version Control > Github (This is important - Please don’t start from dashboard area)
 ![](https://github.com/synereo/docs/blob/master/images/ide-ui/ide-ui-setup1.png)
 * In the dialog box enter the url https://github.com/LivelyGig/ProductWebUI.git and give the folder location as below (default location)
 
 ![](https://github.com/synereo/docs/blob/master/images/ide-ui/ide-ui-setup2.png)
 * Once cloned process is completed then open build.sbt in ProductWebUI folder and click on setup jdk. In the dialog box browse and set installed jdk(downloaded and installed or if had existing installation)
 ![](https://github.com/synereo/docs/blob/master/images/ide-ui/ide-ui-setup3.png)
 * Once that done click on import project. At this point SBT will start  refreshing the dependencies.
 * Open “Terminal Command” window tab by navigating to lower left side of IntelliJ IDEA window and enter commands as below after terminal window appears (Assumption that sbt is successfully installed in the system). In this case, sbt will pick up the build definition from “build.sbt” file, start setting up the project, download all dependenices and start play server after compling source code. This will also start the server at default port - 9000.
 ```
 cd ProductWebUI” 
 sbt  run 
 ```
 ![](https://github.com/synereo/docs/blob/master/images/ide-ui/ide-ui-setup4.png)

 * Navigate to localhost:9000 in your browser and follow onscreen instructions.
 
#### Other Note 

In IntelliJ, this project is not set up correctly as SBT/Scala project and all unresolved item appeared in IntelliJ while trying to edit scala files. This can me remidiate by:

 * Update sbt.xml file in .idea folder with the following and save the file (auto saved)
 
```
<option name="linkedExternalProjectsSettings">
  <SbtProjectSettings>
    <option name="createEmptyContentRootDirectories" value="true" />
    <option name="externalProjectPath" value="$PROJECT_DIR$" />
    <option name="resolveSbtClassifiers" value="true" />
    <option name="useAutoImport" value="true" />
    <option name="useOurOwnAutoImport" value="true" />
  </SbtProjectSettings>
</option>
```
![](https://github.com/synereo/docs/blob/master/images/ide-ui/ide-ui-setup5.png)

 * Re-start your project (Restart IntelliJ) and you will notice “SBT” on the right side upper corner for build (see screen shot)
 
![](https://github.com/synereo/docs/blob/master/images/ide-ui/ide-ui-setup6.png)
 
* Select “SBT” as shown in the screenshot and you will notice SBT dependencies are being processed (message can be seen on the status bar at the bottom of IntelliJ)
